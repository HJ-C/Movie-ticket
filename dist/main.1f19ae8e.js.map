{"version":3,"sources":["main.js"],"names":["container","document","querySelector","seats","querySelectorAll","count","getElementById","total","movieSelect","ticketPrice","value","setMovieData","movieIndex","moviePrice","localStorage","setItem","updateSelectedCount","selectedSeats","seatsIndex","map","seat","indexOf","JSON","stringify","selectedSeatsCount","length","innerText","selectedIndex","addEventListener","e","target","classList","contains","toggle"],"mappings":";;;;;;;;;;;;AAAA,IAAMA,SAAS,GAAGC,QAAQ,CAACC,aAAT,CAAuB,YAAvB,CAAlB;AACA,IAAMC,KAAK,GAAGF,QAAQ,CAACG,gBAAT,CAA0B,2BAA1B,CAAd;AACA,IAAMC,KAAK,GAAGJ,QAAQ,CAACK,cAAT,CAAwB,OAAxB,CAAd;AACA,IAAMC,KAAK,GAAGN,QAAQ,CAACK,cAAT,CAAwB,OAAxB,CAAd;AACA,IAAME,WAAW,GAAGP,QAAQ,CAACK,cAAT,CAAwB,OAAxB,CAApB;AAGA,IAAIG,WAAW,GAAG,CAACD,WAAW,CAACE,KAA/B,EAEA;;AACA,SAASC,YAAT,CAAsBC,UAAtB,EAAkCC,UAAlC,EAA8C;AAC5CC,EAAAA,YAAY,CAACC,OAAb,CAAqB,oBAArB,EAA2CH,UAA3C;AACAE,EAAAA,YAAY,CAACC,OAAb,CAAqB,oBAArB,EAA2CF,UAA3C;AACD,EAED;;;AACA,SAASG,mBAAT,GAA+B;AAC7B,MAAMC,aAAa,GAAGhB,QAAQ,CAACG,gBAAT,CAA0B,qBAA1B,CAAtB;;AACA,MAAMc,UAAU,GAAG,mBAAID,aAAJ,EAAmBE,GAAnB,CAAuB,UAAAC,IAAI;AAAA,WAAI,mBAAIjB,KAAJ,EAAWkB,OAAX,CAAmBD,IAAnB,CAAJ;AAAA,GAA3B,CAAnB;;AACAN,EAAAA,YAAY,CAACC,OAAb,CAAqB,eAArB,EAAsCO,IAAI,CAACC,SAAL,CAAeL,UAAf,CAAtC;AAEA,MAAMM,kBAAkB,GAAGP,aAAa,CAACQ,MAAzC;AAEApB,EAAAA,KAAK,CAACqB,SAAN,GAAkBF,kBAAlB;AACAjB,EAAAA,KAAK,CAACmB,SAAN,GAAkBF,kBAAkB,GAAGf,WAAvC;AAEAE,EAAAA,YAAY,CAACH,WAAW,CAACmB,aAAb,EAA4BnB,WAAW,CAACE,KAAxC,CAAZ;AACD,EAED;;;AACAF,WAAW,CAACoB,gBAAZ,CAA6B,QAA7B,EAAuC,UAAAC,CAAC,EAAE;AACtCpB,EAAAA,WAAW,GAAG,CAACoB,CAAC,CAACC,MAAF,CAASpB,KAAxB;AACAC,EAAAA,YAAY,CAACkB,CAAC,CAACC,MAAF,CAASH,aAAV,EAAyBE,CAAC,CAACC,MAAF,CAASpB,KAAlC,CAAZ;AACAM,EAAAA,mBAAmB;AACtB,CAJD,GAOA;;AACAhB,SAAS,CAAC4B,gBAAV,CAA2B,OAA3B,EAAoC,UAAAC,CAAC,EAAI;AACrC,MACEA,CAAC,CAACC,MAAF,CAASC,SAAT,CAAmBC,QAAnB,CAA4B,MAA5B,KACA,CAACH,CAAC,CAACC,MAAF,CAASC,SAAT,CAAmBC,QAAnB,CAA4B,UAA5B,CAFH,EAGE;AACAH,IAAAA,CAAC,CAACC,MAAF,CAASC,SAAT,CAAmBE,MAAnB,CAA0B,UAA1B;AAEAjB,IAAAA,mBAAmB;AACpB;AACF,CATH;AAWAA,mBAAmB","file":"main.1f19ae8e.js","sourceRoot":"..","sourcesContent":["const container = document.querySelector('.container');\r\nconst seats = document.querySelectorAll('.row .seat:not(.occupied)');\r\nconst count = document.getElementById('count');\r\nconst total = document.getElementById('total');\r\nconst movieSelect = document.getElementById('movie');\r\n\r\n\r\nlet ticketPrice = +movieSelect.value;\r\n\r\n// Save selected movie index and price\r\nfunction setMovieData(movieIndex, moviePrice) {\r\n  localStorage.setItem('selectedMovieIndex', movieIndex);\r\n  localStorage.setItem('selectedMoviePrice', moviePrice);\r\n}\r\n\r\n// seats와 price 표시\r\nfunction updateSelectedCount() {\r\n  const selectedSeats = document.querySelectorAll('.row .seat.selected');\r\n  const seatsIndex = [...selectedSeats].map(seat => [...seats].indexOf(seat));\r\n  localStorage.setItem('selectedSeats', JSON.stringify(seatsIndex));\r\n\r\n  const selectedSeatsCount = selectedSeats.length;\r\n\r\n  count.innerText = selectedSeatsCount;\r\n  total.innerText = selectedSeatsCount * ticketPrice;\r\n  \r\n  setMovieData(movieSelect.selectedIndex, movieSelect.value);\r\n}\r\n\r\n// 영화선택시 이벤트\r\nmovieSelect.addEventListener('change', e=>{\r\n    ticketPrice = +e.target.value\r\n    setMovieData(e.target.selectedIndex, e.target.value)\r\n    updateSelectedCount();\r\n})\r\n\r\n\r\n// Seat click event\r\ncontainer.addEventListener('click', e => {\r\n    if (\r\n      e.target.classList.contains('seat') &&\r\n      !e.target.classList.contains('occupied')\r\n    ) {\r\n      e.target.classList.toggle('selected');\r\n  \r\n      updateSelectedCount();\r\n    }\r\n  });\r\n\r\nupdateSelectedCount();"]}